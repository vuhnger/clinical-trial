<!doctype html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Løperute mellom Dr. Dropin klinikker</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="page">
      <section class="top">
        <div class="top-left">
          <h1>Løperute mellom Dr. Dropin klinikker</h1>
          <div class="meta">
            <span>Klinikker: <strong id="clinicCount">0</strong></span>
            <span>Total km: <strong id="totalKm">0.0</strong></span>
            <span>Høydemeter: <strong id="elevationGain">0 m</strong></span>
          </div>
          <div class="actions">
            <label class="close-loop-toggle" for="closeLoopToggle">
              <input id="closeLoopToggle" type="checkbox" checked />
              Lukk rute
            </label>
            <div class="action-group selection-actions">
              <button id="selectAllBtn" type="button">Alle klinikker</button>
              <button id="selectOsloBtn" type="button">Oslo</button>
              <button id="clearBtn" type="button">Nullstill</button>
            </div>
            <div class="action-group primary-actions">
              <button id="generateBtn" type="button">Generer rute</button>
              <button id="downloadBtn" type="button" disabled>Last ned GPX</button>
            </div>
          </div>
        </div>
        <div class="top-right">
          <div class="profile-header">
            <span class="profile-title">Høydeprofil</span>
            <strong id="profileGain">0 m</strong>
          </div>
          <div class="profile-meta">
            <div class="profile-row">
              <span class="profile-icon" aria-hidden="true">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2" fill="none" />
                  <path d="M5.5 8.5l2 2 3.5-4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </span>
              <span>Start: <strong id="startClinic">–</strong></span>
            </div>
            <div class="profile-row">
              <span class="profile-icon" aria-hidden="true">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 2h8v12H4z" stroke="currentColor" stroke-width="2" fill="none" />
                  <path d="M6 6h4M6 9h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
              <span>Slutt: <strong id="endClinic">–</strong></span>
            </div>
          </div>
          <canvas id="heightProfile" width="520" height="140"></canvas>
        </div>
      </section>
      <section id="map"></section>
    </main>

    <div id="introModal" class="intro-modal is-hidden" role="dialog" aria-modal="true">
      <div class="intro-card" role="document">
        <div class="intro-header">
          <h2>Velg klinikker og lag rute</h2>
          <button id="introCloseBtn" type="button" aria-label="Lukk">OK</button>
        </div>
        <p>
          Klikk på klinikkene i kartet for å velge hvilke du vil ha rute gjennom.
        </p>
        <p>
          Trykk på <strong>Generer rute</strong> for å lage en rute.
        </p>
        <p>
          <strong>Last ned GPX</strong> laster ned en .gpx-fil du kan bruke på sportsklokke
          for å løpe ruten.
        </p>
        <p>
          <strong>Lukk rute</strong> betyr at ruten avsluttes der den starter.
        </p>
      </div>
    </div>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="./app.js"></script>
  </body>
</html>
